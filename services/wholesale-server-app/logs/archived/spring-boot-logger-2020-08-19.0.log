2020-08-13 08:31:54,510 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2020-08-13 08:31:57,958 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=wholesale-app, profiles=[dev], label=develop, version=b76aeffc6abd596148602280de702414e1c693e2, state=null
2020-08-13 08:31:57,959 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-git@gitlab.tt.com.pl:intership2020/config.git/wholesale-services/wholesale-server-app/wholesale-app-dev.yml'}, BootstrapPropertySource {name='bootstrapProperties-git@gitlab.tt.com.pl:intership2020/config.git/wholesale-services/wholesale-server-app/wholesale-app.yml'}]
2020-08-13 08:31:57,965 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-08-13 08:31:58,725 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2020-08-13 08:31:58,727 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-13 08:31:58,896 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JPA - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.mongo.ProductRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2020-08-13 08:31:58,941 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 205ms. Found 7 JPA repository interfaces.
2020-08-13 08:31:58,969 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2020-08-13 08:31:58,969 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2020-08-13 08:31:58,988 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.kafka.repository.PdfInvoiceRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 08:31:58,989 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.kafka.repository.PdfOrderRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 08:31:58,990 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.BasketItemRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 08:31:58,991 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.OrderRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 08:31:58,991 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.RoleRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 08:31:58,992 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.UserRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 08:31:58,992 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.WarehouseRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 08:31:59,006 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36ms. Found 1 MongoDB repository interfaces.
2020-08-13 08:31:59,293 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=47073573-bdde-33a6-82c8-86665d519b49
2020-08-13 08:31:59,563 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5b8853' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-08-13 08:31:59,573 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-08-13 08:31:59,843 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2020-08-13 08:31:59,860 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2020-08-13 08:31:59,861 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-08-13 08:31:59,861 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-13 08:31:59,995 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-08-13 08:31:59,995 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2019 ms
2020-08-13 08:32:00,158 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-13 08:32:00,233 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-08-13 08:32:00,603 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-08-13 08:32:01,176 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2020-08-13 08:32:02,233 INFO liquibase.logging.core.JavaLogger [main] Creating database history table with name: wholesale.databasechangelog
2020-08-13 08:32:02,276 INFO liquibase.logging.core.JavaLogger [main] Reading from wholesale.databasechangelog
2020-08-13 08:32:02,411 INFO liquibase.logging.core.JavaLogger [main] Table users created
2020-08-13 08:32:02,425 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::1::artur ran successfully in 33ms
2020-08-13 08:32:02,483 INFO liquibase.logging.core.JavaLogger [main] Table roles created
2020-08-13 08:32:02,496 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::2::artur ran successfully in 29ms
2020-08-13 08:32:02,540 INFO liquibase.logging.core.JavaLogger [main] Table users_roles created
2020-08-13 08:32:02,554 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::3::artur ran successfully in 30ms
2020-08-13 08:32:02,600 INFO liquibase.logging.core.JavaLogger [main] Table basket_items created
2020-08-13 08:32:02,613 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::4::artur ran successfully in 32ms
2020-08-13 08:32:02,658 INFO liquibase.logging.core.JavaLogger [main] Table orders created
2020-08-13 08:32:02,673 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::5::artur ran successfully in 32ms
2020-08-13 08:32:02,718 INFO liquibase.logging.core.JavaLogger [main] Table warehouses created
2020-08-13 08:32:02,733 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::6::artur ran successfully in 31ms
2020-08-13 08:32:02,776 INFO liquibase.logging.core.JavaLogger [main] Table invoicepdf created
2020-08-13 08:32:02,792 INFO liquibase.logging.core.JavaLogger [main] Table orderpdf created
2020-08-13 08:32:02,806 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::7::marcin ran successfully in 46ms
2020-08-13 08:32:02,849 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to users_roles (role_id)
2020-08-13 08:32:02,862 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::7::artur ran successfully in 29ms
2020-08-13 08:32:02,904 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to users_roles (user_id)
2020-08-13 08:32:02,919 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::8::artur ran successfully in 29ms
2020-08-13 08:32:02,963 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to orders (warehouse_id)
2020-08-13 08:32:02,977 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::9::artur ran successfully in 29ms
2020-08-13 08:32:03,019 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to basket_items (order_id)
2020-08-13 08:32:03,033 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::10::artur ran successfully in 28ms
2020-08-13 08:32:03,073 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to orders (user_id)
2020-08-13 08:32:03,087 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::11::artur ran successfully in 27ms
2020-08-13 08:32:03,129 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to warehouses (user_id)
2020-08-13 08:32:03,142 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::12::artur ran successfully in 27ms
2020-08-13 08:32:03,183 INFO liquibase.logging.core.JavaLogger [main] New row inserted into roles
2020-08-13 08:32:03,197 INFO liquibase.logging.core.JavaLogger [main] New row inserted into roles
2020-08-13 08:32:03,211 INFO liquibase.logging.core.JavaLogger [main] New row inserted into roles
2020-08-13 08:32:03,225 INFO liquibase.logging.core.JavaLogger [main] New row inserted into roles
2020-08-13 08:32:03,238 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/insertData.xml::13::marcin ran successfully in 69ms
2020-08-13 08:32:03,293 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2020-08-13 08:32:03,347 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-08-13 08:32:03,356 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-08-13 08:32:03,418 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-13 08:32:03,501 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2020-08-13 08:32:03,511 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-13 08:32:03,702 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-13 08:32:03,754 INFO com.mongodb.diagnostics.logging.SLF4JLogger [main] Cluster created with settings {hosts=[192.168.169.68:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2020-08-13 08:32:03,843 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='5f34de634ece0414faa39971', description='null'}-192.168.169.68:27017] Opened connection [connectionId{localValue:1, serverValue:28}] to 192.168.169.68:27017
2020-08-13 08:32:03,860 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='5f34de634ece0414faa39971', description='null'}-192.168.169.68:27017] Monitor thread successfully connected to server with description ServerDescription{address=192.168.169.68:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=16063500}
2020-08-13 08:32:03,876 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2020-08-13 08:32:03,891 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-08-13 08:32:03,974 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2020-08-13 08:32:04,914 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46067a74, org.springframework.security.web.context.SecurityContextPersistenceFilter@751b901a, org.springframework.security.web.header.HeaderWriterFilter@5ae67f05, org.springframework.web.filter.CorsFilter@2d26c6a2, org.springframework.security.web.authentication.logout.LogoutFilter@309d54ac, pl.com.ttsw.intership.wholesaleserverapp.security.jwt.JwtAuthenticationFilter@a1a72d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ccce165, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e0139, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@362e6fe, org.springframework.security.web.session.SessionManagementFilter@c8ed958, org.springframework.security.web.access.ExceptionTranslationFilter@2d4f1ddd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b6b8cea]
2020-08-13 08:32:05,018 WARN com.netflix.config.sources.URLConfigurationSource [main] No URLs will be polled as dynamic configuration sources.
2020-08-13 08:32:05,019 INFO com.netflix.config.sources.URLConfigurationSource [main] To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-08-13 08:32:05,025 WARN com.netflix.config.sources.URLConfigurationSource [main] No URLs will be polled as dynamic configuration sources.
2020-08-13 08:32:05,026 INFO com.netflix.config.sources.URLConfigurationSource [main] To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-08-13 08:32:05,293 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-13 08:32:05,302 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-13 08:32:05,518 WARN org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger [main] You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2020-08-13 08:32:05,577 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2020-08-13 08:32:05,642 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2020-08-13 08:32:05,723 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2020-08-13 08:32:05,724 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2020-08-13 08:32:05,849 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2020-08-13 08:32:05,850 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2020-08-13 08:32:06,011 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2020-08-13 08:32:06,056 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2020-08-13 08:32:06,056 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2020-08-13 08:32:06,056 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2020-08-13 08:32:06,056 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2020-08-13 08:32:06,056 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2020-08-13 08:32:06,057 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2020-08-13 08:32:06,057 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2020-08-13 08:32:06,158 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2020-08-13 08:32:06,161 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2020-08-13 08:32:06,163 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2020-08-13 08:32:06,167 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1597300326166 with initial instances count: 1
2020-08-13 08:32:06,170 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application REST-SERVICE with eureka with status UP
2020-08-13 08:32:06,170 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1597300326170, current=UP, previous=STARTING]
2020-08-13 08:32:06,173 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_REST-SERVICE/host.docker.internal:rest-service:8082: registering service...
2020-08-13 08:32:06,173 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2020-08-13 08:32:06,198 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8082 (http) with context path ''
2020-08-13 08:32:06,198 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8082
2020-08-13 08:32:06,200 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_REST-SERVICE/host.docker.internal:rest-service:8082 - registration status: 204
2020-08-13 08:32:06,245 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-08-13 08:32:06,709 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-08-13 08:32:06,724 INFO org.springframework.boot.StartupInfoLogger [main] Started WholesaleServerAppApplication in 13.156 seconds (JVM running for 13.682)
2020-08-13 08:32:07,024 INFO pl.com.ttsw.intership.wholesaleserverapp.security.task.CreateAfterAppStart [main] Super admin created login: admin@admin.pl , password: !Ru\f>w,S]@r!<-!yh\MDi;iV(+^]d?Lgk?#.ah;
2020-08-13 08:37:06,060 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 08:42:06,063 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 08:47:06,065 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 08:52:06,069 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 08:57:06,071 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:02:06,073 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:07:06,075 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:12:06,078 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:17:06,083 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:18:10,968 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2020-08-13 09:18:12,228 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=wholesale-app, profiles=[dev], label=develop, version=b76aeffc6abd596148602280de702414e1c693e2, state=null
2020-08-13 09:18:12,229 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-git@gitlab.tt.com.pl:intership2020/config.git/wholesale-services/wholesale-server-app/wholesale-app-dev.yml'}, BootstrapPropertySource {name='bootstrapProperties-git@gitlab.tt.com.pl:intership2020/config.git/wholesale-services/wholesale-server-app/wholesale-app.yml'}]
2020-08-13 09:18:12,235 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-08-13 09:18:12,980 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2020-08-13 09:18:12,982 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-13 09:18:13,147 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JPA - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.mongo.ProductRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2020-08-13 09:18:13,194 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 204ms. Found 7 JPA repository interfaces.
2020-08-13 09:18:13,217 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2020-08-13 09:18:13,218 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2020-08-13 09:18:13,237 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.kafka.repository.PdfInvoiceRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:18:13,238 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.kafka.repository.PdfOrderRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:18:13,240 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.BasketItemRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:18:13,240 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.OrderRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:18:13,241 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.RoleRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:18:13,241 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.UserRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:18:13,241 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.WarehouseRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:18:13,256 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 38ms. Found 1 MongoDB repository interfaces.
2020-08-13 09:18:13,531 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=47073573-bdde-33a6-82c8-86665d519b49
2020-08-13 09:18:13,761 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@28ee882c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-08-13 09:18:13,771 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-08-13 09:18:14,037 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2020-08-13 09:18:14,045 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2020-08-13 09:18:14,046 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-08-13 09:18:14,046 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-13 09:18:14,188 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-08-13 09:18:14,189 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1941 ms
2020-08-13 09:18:14,361 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-13 09:18:14,429 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-08-13 09:18:14,741 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-08-13 09:18:15,161 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2020-08-13 09:18:16,416 INFO liquibase.logging.core.JavaLogger [main] Reading from wholesale.databasechangelog
2020-08-13 09:18:16,497 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2020-08-13 09:18:16,541 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-08-13 09:18:16,552 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-08-13 09:18:16,609 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-13 09:18:16,666 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-13 09:18:16,685 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2020-08-13 09:18:16,811 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-13 09:18:16,896 INFO com.mongodb.diagnostics.logging.SLF4JLogger [main] Cluster created with settings {hosts=[192.168.169.68:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2020-08-13 09:18:16,938 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-08-13 09:18:16,982 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='5f34e938195d5248e37d1ebb', description='null'}-192.168.169.68:27017] Opened connection [connectionId{localValue:1, serverValue:29}] to 192.168.169.68:27017
2020-08-13 09:18:17,002 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='5f34e938195d5248e37d1ebb', description='null'}-192.168.169.68:27017] Monitor thread successfully connected to server with description ServerDescription{address=192.168.169.68:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=17228700}
2020-08-13 09:18:17,012 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2020-08-13 09:18:17,107 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2020-08-13 09:18:18,083 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61e34bec, org.springframework.security.web.context.SecurityContextPersistenceFilter@a7fd77f, org.springframework.security.web.header.HeaderWriterFilter@22ba30b0, org.springframework.web.filter.CorsFilter@3305897c, org.springframework.security.web.authentication.logout.LogoutFilter@5f596a1a, pl.com.ttsw.intership.wholesaleserverapp.security.jwt.JwtAuthenticationFilter@1238a074, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3006aef5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@442151d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53945f9c, org.springframework.security.web.session.SessionManagementFilter@7611e295, org.springframework.security.web.access.ExceptionTranslationFilter@733e3c19, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44a7661d]
2020-08-13 09:18:18,102 WARN com.netflix.config.sources.URLConfigurationSource [main] No URLs will be polled as dynamic configuration sources.
2020-08-13 09:18:18,102 INFO com.netflix.config.sources.URLConfigurationSource [main] To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-08-13 09:18:18,111 WARN com.netflix.config.sources.URLConfigurationSource [main] No URLs will be polled as dynamic configuration sources.
2020-08-13 09:18:18,111 INFO com.netflix.config.sources.URLConfigurationSource [main] To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-08-13 09:18:18,191 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-13 09:18:18,199 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-13 09:18:18,569 WARN org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger [main] You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2020-08-13 09:18:18,630 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2020-08-13 09:18:18,693 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2020-08-13 09:18:18,783 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2020-08-13 09:18:18,784 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2020-08-13 09:18:18,912 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2020-08-13 09:18:18,912 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2020-08-13 09:18:19,074 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2020-08-13 09:18:19,119 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2020-08-13 09:18:19,119 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2020-08-13 09:18:19,119 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2020-08-13 09:18:19,119 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2020-08-13 09:18:19,119 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2020-08-13 09:18:19,119 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2020-08-13 09:18:19,119 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2020-08-13 09:18:19,217 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2020-08-13 09:18:19,219 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2020-08-13 09:18:19,220 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2020-08-13 09:18:19,223 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1597303099222 with initial instances count: 2
2020-08-13 09:18:19,226 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application REST-SERVICE with eureka with status UP
2020-08-13 09:18:19,227 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1597303099227, current=UP, previous=STARTING]
2020-08-13 09:18:19,228 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_REST-SERVICE/host.docker.internal:rest-service:8082: registering service...
2020-08-13 09:18:19,229 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2020-08-13 09:18:19,254 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_REST-SERVICE/host.docker.internal:rest-service:8082 - registration status: 204
2020-08-13 09:18:19,255 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8082 (http) with context path ''
2020-08-13 09:18:19,256 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8082
2020-08-13 09:18:19,301 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-08-13 09:18:19,719 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-08-13 09:18:19,734 INFO org.springframework.boot.StartupInfoLogger [main] Started WholesaleServerAppApplication in 9.691 seconds (JVM running for 10.164)
2020-08-13 09:23:19,123 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:23:44,471 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2020-08-13 09:23:45,659 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=wholesale-app, profiles=[dev], label=develop, version=b76aeffc6abd596148602280de702414e1c693e2, state=null
2020-08-13 09:23:45,660 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-git@gitlab.tt.com.pl:intership2020/config.git/wholesale-services/wholesale-server-app/wholesale-app-dev.yml'}, BootstrapPropertySource {name='bootstrapProperties-git@gitlab.tt.com.pl:intership2020/config.git/wholesale-services/wholesale-server-app/wholesale-app.yml'}]
2020-08-13 09:23:45,666 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: dev
2020-08-13 09:23:46,341 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2020-08-13 09:23:46,343 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-13 09:23:46,505 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data JPA - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.mongo.ProductRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2020-08-13 09:23:46,550 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 201ms. Found 7 JPA repository interfaces.
2020-08-13 09:23:46,577 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2020-08-13 09:23:46,578 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2020-08-13 09:23:46,597 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.kafka.repository.PdfInvoiceRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:23:46,598 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.kafka.repository.PdfOrderRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:23:46,601 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.BasketItemRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:23:46,601 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.OrderRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:23:46,602 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.RoleRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:23:46,602 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.UserRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:23:46,603 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface pl.com.ttsw.intership.wholesaleserverapp.rest.domain.repository.postgres.WarehouseRepository. If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository.
2020-08-13 09:23:46,617 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 39ms. Found 1 MongoDB repository interfaces.
2020-08-13 09:23:46,883 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=47073573-bdde-33a6-82c8-86665d519b49
2020-08-13 09:23:47,123 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6b0f266e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-08-13 09:23:47,131 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-08-13 09:23:47,395 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8082 (http)
2020-08-13 09:23:47,404 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2020-08-13 09:23:47,405 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2020-08-13 09:23:47,405 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-13 09:23:47,550 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2020-08-13 09:23:47,551 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1871 ms
2020-08-13 09:23:47,693 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-13 09:23:47,758 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2020-08-13 09:23:48,077 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2020-08-13 09:23:48,647 INFO liquibase.logging.core.JavaLogger [main] Successfully acquired change log lock
2020-08-13 09:23:49,658 INFO liquibase.logging.core.JavaLogger [main] Creating database history table with name: wholesale.databasechangelog
2020-08-13 09:23:49,702 INFO liquibase.logging.core.JavaLogger [main] Reading from wholesale.databasechangelog
2020-08-13 09:23:49,831 INFO liquibase.logging.core.JavaLogger [main] Table users created
2020-08-13 09:23:49,845 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::1::artur ran successfully in 33ms
2020-08-13 09:23:49,905 INFO liquibase.logging.core.JavaLogger [main] Table roles created
2020-08-13 09:23:49,921 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::2::artur ran successfully in 32ms
2020-08-13 09:23:49,966 INFO liquibase.logging.core.JavaLogger [main] Table users_roles created
2020-08-13 09:23:49,979 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::3::artur ran successfully in 29ms
2020-08-13 09:23:50,028 INFO liquibase.logging.core.JavaLogger [main] Table basket_items created
2020-08-13 09:23:50,042 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::4::artur ran successfully in 31ms
2020-08-13 09:23:50,087 INFO liquibase.logging.core.JavaLogger [main] Table orders created
2020-08-13 09:23:50,101 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::5::artur ran successfully in 31ms
2020-08-13 09:23:50,145 INFO liquibase.logging.core.JavaLogger [main] Table warehouses created
2020-08-13 09:23:50,160 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::6::artur ran successfully in 31ms
2020-08-13 09:23:50,203 INFO liquibase.logging.core.JavaLogger [main] Table invoicepdf created
2020-08-13 09:23:50,219 INFO liquibase.logging.core.JavaLogger [main] Table orderpdf created
2020-08-13 09:23:50,233 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/createTables.xml::7::marcin ran successfully in 46ms
2020-08-13 09:23:50,276 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to users_roles (role_id)
2020-08-13 09:23:50,290 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::7::artur ran successfully in 29ms
2020-08-13 09:23:50,333 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to users_roles (user_id)
2020-08-13 09:23:50,347 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::8::artur ran successfully in 28ms
2020-08-13 09:23:50,390 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to orders (warehouse_id)
2020-08-13 09:23:50,403 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::9::artur ran successfully in 27ms
2020-08-13 09:23:50,445 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to basket_items (order_id)
2020-08-13 09:23:50,463 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::10::artur ran successfully in 32ms
2020-08-13 09:23:50,506 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to orders (user_id)
2020-08-13 09:23:50,520 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::11::artur ran successfully in 29ms
2020-08-13 09:23:50,561 INFO liquibase.logging.core.JavaLogger [main] Foreign key constraint added to warehouses (user_id)
2020-08-13 09:23:50,574 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/const.xml::12::artur ran successfully in 27ms
2020-08-13 09:23:50,617 INFO liquibase.logging.core.JavaLogger [main] New row inserted into roles
2020-08-13 09:23:50,631 INFO liquibase.logging.core.JavaLogger [main] New row inserted into roles
2020-08-13 09:23:50,644 INFO liquibase.logging.core.JavaLogger [main] New row inserted into roles
2020-08-13 09:23:50,659 INFO liquibase.logging.core.JavaLogger [main] New row inserted into roles
2020-08-13 09:23:50,672 INFO liquibase.logging.core.JavaLogger [main] ChangeSet db/changelog/version/insertData.xml::13::marcin ran successfully in 69ms
2020-08-13 09:23:50,729 INFO liquibase.logging.core.JavaLogger [main] Successfully released change log lock
2020-08-13 09:23:50,775 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2020-08-13 09:23:50,784 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'taskScheduler'
2020-08-13 09:23:50,836 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-13 09:23:50,891 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-13 09:23:50,906 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2020-08-13 09:23:51,024 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-13 09:23:51,098 INFO com.mongodb.diagnostics.logging.SLF4JLogger [main] Cluster created with settings {hosts=[192.168.169.68:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2020-08-13 09:23:51,135 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2020-08-13 09:23:51,176 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='5f34ea877b12d81ac0344e66', description='null'}-192.168.169.68:27017] Opened connection [connectionId{localValue:1, serverValue:30}] to 192.168.169.68:27017
2020-08-13 09:23:51,192 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2020-08-13 09:23:51,197 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='5f34ea877b12d81ac0344e66', description='null'}-192.168.169.68:27017] Monitor thread successfully connected to server with description ServerDescription{address=192.168.169.68:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=19497200}
2020-08-13 09:23:51,281 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2020-08-13 09:23:52,273 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fd07a56, org.springframework.security.web.context.SecurityContextPersistenceFilter@66df362c, org.springframework.security.web.header.HeaderWriterFilter@2b6ff016, org.springframework.web.filter.CorsFilter@1315befe, org.springframework.security.web.authentication.logout.LogoutFilter@7da9b32c, pl.com.ttsw.intership.wholesaleserverapp.security.jwt.JwtAuthenticationFilter@53564a4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3458be63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31daf094, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45649467, org.springframework.security.web.session.SessionManagementFilter@c555e1e, org.springframework.security.web.access.ExceptionTranslationFilter@da5b46f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16a14076]
2020-08-13 09:23:52,291 WARN com.netflix.config.sources.URLConfigurationSource [main] No URLs will be polled as dynamic configuration sources.
2020-08-13 09:23:52,291 INFO com.netflix.config.sources.URLConfigurationSource [main] To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-08-13 09:23:52,295 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-13 09:23:52,297 WARN com.netflix.config.sources.URLConfigurationSource [main] No URLs will be polled as dynamic configuration sources.
2020-08-13 09:23:52,297 INFO com.netflix.config.sources.URLConfigurationSource [main] To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2020-08-13 09:23:52,302 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-13 09:23:52,762 WARN org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger [main] You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2020-08-13 09:23:52,820 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2020-08-13 09:23:52,885 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2020-08-13 09:23:52,977 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2020-08-13 09:23:52,977 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2020-08-13 09:23:53,098 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2020-08-13 09:23:53,099 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2020-08-13 09:23:53,257 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2020-08-13 09:23:53,301 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2020-08-13 09:23:53,301 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2020-08-13 09:23:53,301 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2020-08-13 09:23:53,302 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2020-08-13 09:23:53,302 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2020-08-13 09:23:53,302 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2020-08-13 09:23:53,302 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2020-08-13 09:23:53,390 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2020-08-13 09:23:53,392 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2020-08-13 09:23:53,393 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2020-08-13 09:23:53,396 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1597303433395 with initial instances count: 2
2020-08-13 09:23:53,400 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application REST-SERVICE with eureka with status UP
2020-08-13 09:23:53,400 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1597303433400, current=UP, previous=STARTING]
2020-08-13 09:23:53,402 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_REST-SERVICE/host.docker.internal:rest-service:8082: registering service...
2020-08-13 09:23:53,402 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2020-08-13 09:23:53,428 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8082 (http) with context path ''
2020-08-13 09:23:53,429 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8082
2020-08-13 09:23:53,430 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_REST-SERVICE/host.docker.internal:rest-service:8082 - registration status: 204
2020-08-13 09:23:53,478 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Triggering deferred initialization of Spring Data repositories…
2020-08-13 09:23:53,931 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [main] Spring Data repositories initialized!
2020-08-13 09:23:53,941 INFO org.springframework.boot.StartupInfoLogger [main] Started WholesaleServerAppApplication in 10.378 seconds (JVM running for 10.85)
2020-08-13 09:23:54,231 INFO pl.com.ttsw.intership.wholesaleserverapp.security.task.CreateAfterAppStart [main] Super admin created login: admin@admin.pl , password: UcEL1n2ZXGAB2BDCFQISXtYc1WtPn7k6agsNwghn
2020-08-13 09:28:53,304 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:33:53,307 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:38:53,309 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:43:53,312 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2020-08-13 09:44:07,243 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8082-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-13 09:44:07,244 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8082-exec-1] Initializing Servlet 'dispatcherServlet'
2020-08-13 09:44:07,251 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8082-exec-1] Completed initialization in 7 ms
2020-08-13 09:48:53,315 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
